# -*- mode: shell-script -*-
#
# Initialize the default settings for Akanda
# so they don't have to be set in the localrc.

echo "Initializing Akanda settings"

Q_PLUGIN=openvswitch
LIBVIRT_FIREWALL_DRIVER=nova.virt.firewall.NoopFirewallDriver
NOVA_VIF_DRIVER=nova.virt.libvirt.vif.LibvirtOpenVswitchDriver
HOST_IP=${HOST_IP:-192.168.27.100}
HOST_IP_IFACE=eth1
#Note(rods): not sure we still need this option so lets comment it out for now
#QUANTUM_LB_PRIVATE_INTERFACE=eth1
NETWORK_GATEWAY=192.168.123.1
FIXED_RANGE=192.168.123.0/24
KEYSTONE_TOKEN_FORMAT=UUID
Q_META_DATA_IP=127.0.0.1

# Checkout our neutron branch
NEUTRON_REPO=git@github.com:dreamhost/quantum.git
NEUTRON_BRANCH=havana.rc

# Set up default directories
AKANDA_NOVA_DIR=$DEST/akanda-nova
AKANDA_NOVA_REPO=git@github.com:dreamhost/akanda-nova.git

AKANDA_NEUTRON_DIR=$DEST/akanda-quantum
AKANDA_NEUTRON_REPO=git@github.com:dreamhost/akanda-quantum.git

AKANDA_RUG_DIR=$DEST/akanda-rug
AKANDA_RUG_REPO=git@github.com:dreamhost/akanda-rug.git

AKANDA_CONF_DIR=/etc/akanda
AKANDA_RUG_CONF=$AKANDA_CONF_DIR/rug.ini

# FIXME(rods): The path to the akanda.iso refer or assume in some
#              way that the env has been created using the vagrant
#              tool. We should make it more generic
AKANDA_ISO_FILE=${AKANDA_ISO_FILE:-/vagrant/data/akanda.iso}
AKANDA_ISO_DEFAULT=https://objects.dreamhost.com/dhc/akanda.iso

enable_service q-svc,q-agt,ak-rug
disable_service q-meta,q-dhcp,q-l3
# for some reason n-net need to be on single line to work
disable_service n-net
